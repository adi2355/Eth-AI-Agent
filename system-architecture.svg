<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700">
  <!-- Styles -->
  <defs>
    <style>
      .box {
        fill: white;
        stroke: #333;
        stroke-width: 2;
      }
      .arrow {
        stroke: #666;
        stroke-width: 2;
        fill: none;
        marker-end: url(#arrowhead);
      }
      .text {
        font-family: sans-serif;
        font-size: 14px;
        fill: black;
        text-anchor: middle;
        dominant-baseline: middle;
      }
      .subtext {
        font-family: sans-serif;
        font-size: 12px;
        fill: #666;
        text-anchor: middle;
        dominant-baseline: middle;
      }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- UI Layer -->
  <rect x="200" y="30" width="300" height="60" class="box" rx="5" ry="5" />
  <text x="350" y="50" class="text">User Interface (Next.js + React)</text>
  <text x="350" y="70" class="subtext">(Chat, Wallet, Transfers)</text>

  <!-- API Routes -->
  <rect x="200" y="130" width="300" height="50" class="box" rx="5" ry="5" />
  <text x="350" y="155" class="text">API Routes</text>
  <text x="350" y="173" class="subtext">(/api/chat, /api/blockchain)</text>
  
  <!-- Connector UI to API -->
  <line x1="350" y1="90" x2="350" y2="130" class="arrow" />

  <!-- Agent Orchestrator -->
  <rect x="150" y="220" width="400" height="90" class="box" rx="5" ry="5" />
  <text x="350" y="245" class="text">Agent Orchestrator (lib/)</text>
  <text x="350" y="265" class="subtext">- Intent Analysis (OpenAI)</text>
  <text x="350" y="285" class="subtext">- Data Aggregation</text>
  <text x="350" y="305" class="subtext">- Blockchain Orchestration</text>
  
  <!-- Connector API to Orchestrator -->
  <line x1="350" y1="180" x2="350" y2="220" class="arrow" />

  <!-- Intent Analysis -->
  <rect x="100" y="350" width="120" height="50" class="box" rx="5" ry="5" />
  <text x="160" y="375" class="text">Intent Analysis</text>
  
  <!-- Data Aggregator -->
  <rect x="290" y="350" width="120" height="50" class="box" rx="5" ry="5" />
  <text x="350" y="375" class="text">Data Aggregator</text>
  
  <!-- Blockchain Orchestrator -->
  <rect x="480" y="350" width="120" height="50" class="box" rx="5" ry="5" />
  <text x="540" y="375" class="text">Blockchain</text>
  <text x="540" y="393" class="subtext">Orchestrator</text>
  
  <!-- Connectors from Orchestrator -->
  <line x1="220" y1="310" x2="160" y2="350" class="arrow" />
  <line x1="350" y1="310" x2="350" y2="350" class="arrow" />
  <line x1="480" y1="310" x2="540" y2="350" class="arrow" />

  <!-- Response Generator -->
  <rect x="195" y="450" width="120" height="50" class="box" rx="5" ry="5" />
  <text x="255" y="475" class="text">Response</text>
  <text x="255" y="493" class="subtext">Generator</text>
  
  <!-- Session Manager -->
  <rect x="480" y="450" width="120" height="50" class="box" rx="5" ry="5" />
  <text x="540" y="475" class="text">Session</text>
  <text x="540" y="493" class="subtext">Manager</text>
  
  <!-- Connectors -->
  <path d="M 160 400 L 160 475 L 195 475" class="arrow" />
  <line x1="350" y1="400" x2="255" y2="450" class="arrow" />
  <line x1="540" y1="400" x2="540" y2="450" class="arrow" />

  <!-- Transaction Agents -->
  <rect x="480" y="550" width="120" height="50" class="box" rx="5" ry="5" />
  <text x="540" y="575" class="text">Transaction</text>
  <text x="540" y="593" class="subtext">Agents</text>
  
  <!-- Connector Session to Transaction -->
  <line x1="540" y1="500" x2="540" y2="550" class="arrow" />

  <!-- Blockchain (Ethereum) -->
  <rect x="480" y="650" width="120" height="50" class="box" rx="5" ry="5" />
  <text x="540" y="675" class="text">Blockchain</text>
  <text x="540" y="693" class="subtext">(Ethereum)</text>
  
  <!-- Connector Transaction to Blockchain -->
  <line x1="540" y1="600" x2="540" y2="650" class="arrow" />
</svg>
